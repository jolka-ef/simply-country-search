(window["webpackJsonpreact-restcountries"]=window["webpackJsonpreact-restcountries"]||[]).push([[0],{15:function(e,t,a){},26:function(e,t,a){e.exports=a(64)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},55:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),s=(a(31),a(67)),o=a(68),u=a(69),m=a(2),i=(a(32),function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("h1",{className:"Header-title"},"Search countries using restcountries.com"))}),f=(a(33),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:e.labelClass,htmlFor:e.name}),r.a.createElement("input",{"aria-label":e.ariaLabel,className:e.inputClass,id:e.name,name:e.name,onChange:e.onChange,type:e.type,value:e.value}))}),E=(a(34),a(15),function(e){return r.a.createElement("button",{className:"Button",onClick:e.onClick,type:e.type},e.name)}),p=function(e){var t=Object(n.useRef)(),a=e.onSubmit,c=Object(n.useState)(""),l=Object(m.a)(c,2),s=l[0],o=l[1];return Object(n.useEffect)((function(){localStorage.lastSearchText&&(o(localStorage.lastSearchText),a(localStorage.lastSearchText))}),[]),r.a.createElement("div",{role:"search"},r.a.createElement("form",{className:"Form",method:"get",ref:t,onSubmit:function(e){e.preventDefault();var n=function(e){return e.current.name.value}(t);localStorage.lastSearchText=n,a(n)}},r.a.createElement(f,{ariaLabel:"Search for countries by name",value:s,inputClass:"Form-input",labelClass:"Form-label",label:"Name",name:"name",onChange:function(e){return o(e.target.value)},type:"search"}),r.a.createElement(E,{name:"Search",type:"submit"})))},d=a(6),h=a.n(d),b=a(7),g=a(24),v=a.n(g),N=(a(54),function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(m.a)(l,2),o=s[0],u=s[1],i=Object(n.useState)(!1),f=Object(m.a)(i,2),E=f[0],p=f[1],d=Object(n.useState)(e),g=Object(m.a)(d,2),N=g[0],S=g[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),u(!0),e.prev=2,e.next=5,v()(N);case 5:(t=e.sent).data&&(c(t.data),localStorage[N]=JSON.stringify(t.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),p(!0);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();N&&(localStorage[N]?c(JSON.parse(localStorage[N])):e())}),[N]),[{data:r,isLoading:o,isError:E},S]}),S=a(66);a(55);function y(e,t){return e.toUpperCase(),t.toUpperCase(),e<t?-1:e>t?1:0}var w=function(e){var t=Object(n.useState)(!0),a=Object(m.a)(t,2),c=a[0],l=a[1];var s=function(){var e=!c;l(e),localStorage.isSortedAscending=e};return Object(n.useEffect)((function(){localStorage.isSortedAscending&&l("true"===localStorage.isSortedAscending)}),[]),function(e){var t=e.map((function(e){return function(e){return e.name.official}(e)}));return c?t.sort(y):t.sort(y).reverse(),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"Button",onClick:s},c?"A-Z":"Z-A"),r.a.createElement("table",{className:"SearchResults"},r.a.createElement("colgroup",null,r.a.createElement("col",null),r.a.createElement("col",null)),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",className:"VisuallyHidden"},"Country name"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{className:"SearchResults-row",key:e},r.a.createElement("td",{className:"SearchResults-cell"},r.a.createElement(S.a,{to:"/country/".concat(e),className:"SearchResults-bookLink"},r.a.createElement("h2",{className:"SearchResults-bookTitle"},e))))})))))}(e.data)},O=(a(58),function(e){return r.a.createElement("div",{className:"Error"},r.a.createElement("svg",{className:"Error-icon",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M507.494,426.066L282.864,53.537c-5.677-9.415-15.87-15.172-26.865-15.172c-10.995,0-21.188,5.756-26.865,15.172 L4.506,426.066c-5.842,9.689-6.015,21.774-0.451,31.625c5.564,9.852,16.001,15.944,27.315,15.944h449.259 c11.314,0,21.751-6.093,27.315-15.944C513.508,447.839,513.336,435.755,507.494,426.066z M256.167,167.227 c12.901,0,23.817,7.278,23.817,20.178c0,39.363-4.631,95.929-4.631,135.292c0,10.255-11.247,14.554-19.186,14.554 c-10.584,0-19.516-4.3-19.516-14.554c0-39.363-4.63-95.929-4.63-135.292C232.021,174.505,242.605,167.227,256.167,167.227z M256.498,411.018c-14.554,0-25.471-11.908-25.471-25.47c0-13.893,10.916-25.47,25.471-25.47c13.562,0,25.14,11.577,25.14,25.47 C281.638,399.11,270.06,411.018,256.498,411.018z"})),r.a.createElement("p",{className:"Error-message"},e.message))}),j=(a(59),function(){return r.a.createElement("svg",{className:"Loader",xmlns:"http://www.w3.org/2000/svg",width:"160",height:"80"},r.a.createElement("text",{x:"0",y:"40",textLength:"80",fill:"#3a8a88"},"Loading"),r.a.createElement("rect",{x:"90",y:"26",width:"60",height:"16",rx:"5",ry:"5",fill:"#3a8a88"}))}),C=(a(60),function(e){var t=e.query,a=N(""),c=Object(m.a)(a,2),l=c[0],s=l.data,o=l.isLoading,u=l.isError,i=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("".concat("https://restcountries.com/v3.1/name/").concat(t,"?fields=name"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement(O,{message:"We're sorry but something went terribly wrong..."}):null,s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{data:s})):o?null:r.a.createElement("p",{className:"SearchResults-info"},"No results to show."),o?r.a.createElement(j,null):null)}),x=(a(61),function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement("main",{className:"AppContent"},r.a.createElement(p,{onSubmit:function(e){c(e)}}),a&&r.a.createElement(C,{key:Date.now(),query:a})))}),k=(a(62),function(e){var t=e.match.params.countryName,a=N(""),c=Object(m.a)(a,2),l=c[0],s=l.data,o=(l.isLoading,l.isError,c[1]);Object(n.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("".concat("https://restcountries.com/v3.1/name/").concat(t,"?fullText=true&fields=name,capital,currencies"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return function(e){if(!e.length)return null;var a=e[0].currencies,n=Object.keys(a)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("main",{className:"AppContent"},r.a.createElement(S.a,{to:"/",className:"Button"},"Back"),r.a.createElement("dl",{className:"CountryDetails"},r.a.createElement("dt",{className:"Details-title"},"Country name"),r.a.createElement("dd",{className:"Details-content"},r.a.createElement("h1",{className:"SearchResults-bookTitle"},t)),r.a.createElement("dt",{className:"Details-title"},"Country capital"),r.a.createElement("dd",{className:"Details-content"},r.a.createElement("span",null,e[0].capital," ")),r.a.createElement("dt",{className:"Details-title"},"Currency code"),r.a.createElement("dd",{className:"Details-content"},r.a.createElement("span",null,n," ")),r.a.createElement("dt",{className:"Details-title"},"Currency name"),r.a.createElement("dd",{className:"Details-content"},r.a.createElement("span",null,a[n].name," ")),r.a.createElement("dt",{className:"Details-title"},"Currency symbol"),r.a.createElement("dd",{className:"Details-content"},r.a.createElement("span",null,a[n].symbol))))))}(s)});var D=function(){return r.a.createElement(s.a,null,r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:x}),r.a.createElement(u.a,{path:"/country/:countryName",component:k})))};l.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.1ef34592.chunk.js.map